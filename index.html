<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- META TAGS -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- TITLE -->
    <title>Vue Boolzapp</title>

    <!-- FONTAWESOME -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
      integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- BOOTSTRAP -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />

    <!-- CUSTOM CSS -->
    <link rel="stylesheet" href="./css/style.css" />

    <!-- VUE JS -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <!-- MAIN JS -->
    <script type="text/javascript" src="./js/main.js" defer></script>
  </head>

  <body>
    <!-- vue start -->
    <div id="root">
      <div class="container">
        <div class="row">
          <!-- left side -->
          <div class="col-4 d-flex">
            <div class="d-inline">
              <img src="./img/avatar_io.jpg" alt="" class="my-3" />
              <span>Simone</span>
            </div>
            <div class="d-inline ms-auto align-self-center">
              <i class="fa-solid fa-circle-notch"></i>
              <i class="fa-solid fa-message mx-3"></i>
              <i class="fa-solid fa-ellipsis-vertical"></i>
            </div>
          </div>
          <!-- right side -->
          <div class="col-8 d-flex">
            <div class="d-inline position-relative">
              <img src="./img/avatar_1.jpg" alt="" class="my-3" />
              <div class="activeTextCard">
                <div>Michele</div>
                <div>Ultimo accesso oggi alle 12:00</div>
              </div>
            </div>
            <div class="d-inline ms-auto align-self-center">
              <i class="fa-solid fa-magnifying-glass"></i>
              <i class="fa-solid fa-paperclip my-3"></i>
              <i class="fa-solid fa-ellipsis-vertical"></i>
            </div>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-4">
            <div class="d-flex">
              <i class="fa-solid fa-bell"></i>
              <div>Ricevi notifiche di nuovi messaggi</div>
            </div>
            <a href="#">Attiva notifiche desktop</a>
            <div class="searchBar">
              <form class="d-flex" role="search">
                <button class="btn btn-outline-success" type="submit">
                  <i class="fa-solid fa-magnifying-glass"></i>
                </button>
                <input
                  class="form-control me-2"
                  type="search"
                  placeholder="Search"
                  aria-label="Search"
                />
              </form>
            </div>
            <!-- Card -->
            <div
              class="avatarTextCard"
              v-for="(contact, index) in contacts"
              @click="activeImage()"
            >
              <div class="col-10">
                <img
                  :src="'./img/avatar' + contact.avatar +'.jpg'"
                  alt=""
                  class="my-3"
                />
                <div class="textCard">
                  <div>{{ contact.name }}</div>

                  <!-- v-if="index == '0'" -->
                  <div v-if="true">
                    {{ contact.messages[contact.messages.length - 1].text }}
                  </div>
                </div>
                <div class="textHour">
                  {{ contact.messages[contact.messages.length - 1].date }}
                </div>
              </div>
            </div>
          </div>
          <!-- conversation panel -->
          <div class="col-8">
            <div class="conversationPanel">
              <div class="row">
                <!-- Received & Sent Texts active -->
                <div
                  class="col-12 d-flex flex-wrap"
                  v-for="(contact, index) in contacts"
                >
                  <div v-for="sms in contact.messages">
                    <div
                      v-if="sms.status == 'received'"
                      :class="[sms.status]"
                      class="d-flex"
                    >
                      {{ sms.text }}
                    </div>
                    <div v-else="sms.status == 'sent'" :class="[sms.status]">
                      {{ sms.text }}
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- footer -->
            <footer class="d-flex">
              <i>#</i>
              <div class="form-floating d-flex flex-grow-1">
                <textarea
                  class="form-control"
                  placeholder="Leave a comment here"
                  id="floatingTextarea"
                ></textarea>
                <label for="floatingTextarea">Scrivi un messaggio</label>
              </div>
              <i>#</i>
            </footer>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
